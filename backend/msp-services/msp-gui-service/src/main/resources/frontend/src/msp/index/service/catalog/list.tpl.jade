include /lib/mixins/list
.datalist
  +toolbar
    +button_group
      +tool_button("tableParams.reload()", "refresh", "", "*", "", "")
    +button_group
      +tool_button("actionService.gotoState('catalog.new', $event)", "plus", "设置服务", "*", "", "catalog")
      //+tool_button("actionService.gotoState('catalog.newitem', $event)", "plus", "设置服务项", "1", "", "catalog")
      +tool_button("actionService.perform(delete, $event)", "pencil", "删除", "*", "", "")
      //+tool_button("actionService.perform(update, $event)", "pencil", "设置", "*", "", "")
    //+more_buttons
  +common_table("tableParams","selection")
    tbody(ng-repeat="catalog in $data")
      tr(value="{{catalog.sn}}",class="editable deletable catalog")
        td(width="30", align="left", header="'ngTableCheckboxHeader'")
          input(type="checkbox",ng-model="selection.items[catalog.sn]")
        td(data-title="'图标'")
          img(ng-src="{{catalog.icon}}")
        td(data-title="'标题'")
          a(ui-sref="catalog.view(catalog)") {{catalog.title}}
        td(data-title="'描述'") {{catalog.description}}
      tr(ng-repeat="item in catalog.items",value="{{item.sn}}",class="editable deletable item",ng-disabled="true",)
        td(width="30", align="left", header="'ngTableCheckboxHeader'")
          input(type="checkbox" ng-model="selection.items[item.sn]")
        td(data-title="'图标'")
          img(ng-src="{{item.icon}}")
        td(data-title="'标题'")
          a(ui-sref="catalog.item({sn:catalog.sn,isn:item.sn})") {{item.title}}*
        td(data-title="'描述'") {{item.description}}
