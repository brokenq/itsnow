mixin tableForm(title,brief,description)
  tr(ng-repeat="d in details")
    td #{title}
    td #{brief}
    td #{description}

include /lib/mixins/form

+section("基本信息")
  +group("contract", "sn", "合同号", "user", "必填")
    +input("contract", "sn")(type="text", required, ng-minlength="2", ng-maxlength="20",
      ng-pattern='/^[a-zA-Z0-9_\\-\\.]+$/', ng-check="/api/contracts/{0}/check", placeholder="合同编号")
  hr
  +group("contract", "detail", "合同详情", "", "")
    table.table.table-striped.table-bordered.table-hover
      tr
        th(class="thNo") 合同名称
        th(class="thNo") 合同简介
        th(class="con") 合同描述
      +tableForm('{{d.title}}', '{{d.brief}}', '{{d.description}}')
