//- include the form mixins
include /lib/mixins/form
//- this form need includer provide variable:
    readonly : true | false
+section("用户基本信息")
  +group("cuser","username","用户名", "user", "")
    +input("cuser","username")(type="text",required,ng-disabled="updateview", ng-maxlength="20",ng-minlength="4",ng-check="/api/users/check/{0}",ng-pattern="/^[a-zA-Z0-9]|_|\-|\.]+$/")
    +group("cuser","nickName","用户昵称",   "user", "")
    +input("cuser","nickName")(type="text",required, ng-maxlength="20",ng-minlength="4")
  div(ng-if="createview")
    +group("cuser","emial",  "电子邮箱","envelope", "")
      +input("cuser","email")(type="email",ng-disabled="updateview",required,ng-check="/api/users/checkEmail/{0}")
  div(ng-if="updateview")
    +group("cuser","emial",  "电子邮箱","envelope", "")
      +input("cuser","email")(type="email",ng-check="/admin/api/users/{0}/{{cuser.username}}/checkEmail")
  +group("cuser","phone",  "电话号码",   "headphones", "")
    +input("cuser", "phone")(type="text",required,ng-pattern='/^1[0-9]+$/')
  div(ng-if="createview")
    +group("cuser","password","用户密码","lock","")
      +input("cuser","password")(type="password",ng-required="{{createview}}" ,ng-maxlength="20",ng-minlength="6")
    +group("cuser","repeatPassword","重复密码","retweet","")
      +input("cuser","repeatPassword")(type="password",pw-check="cuser_password",ng-required="{{createview}}",ng-maxlength="20",ng-minlength="6")
  div(ng-if="updateview")
    +group("cuser", "enabled", "是否开启", "", "")
      +select("cuser","enabled")(ng-options="data.state as data.name for data in statedatas")
