<div class="page-content">

<div id="fuelux-wizard" class="row-fluid wizard"
     data-initialize="wizard" data-adjust="false">
    <ul class="steps">
        <li data-step="1" >
            <span class="step">1</span>
            <span class="title">新建</span>
        </li>
        <li data-step="2" >
            <span class="step">2</span>
            <span class="title">分派</span>
        </li>
        <li data-step="3">
            <span class="step">3</span>
            <span class="title">签收</span>
        </li>

        <li data-step="4">
            <span class="step">4</span>
            <span class="title">分析</span>
        </li>

        <li data-step="5">
            <span class="step">5</span>
            <span class="title">处理</span>
        </li>
        <li data-step="6">
            <span class="step">6</span>
            <span class="title">关闭</span>
        </li>
    </ul>
    <hr/>
</div>
<div class="row">
    <div class="col-xs-12">
        <!-- PAGE CONTENT BEGINS -->
        <ng-form name="newTroubleTicketForm" class="form-horizontal" role="form" ng-controller="MspCreateIncidentCtrl">

            <div class="form-group has-info">
                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="msuAccountName"> 帐户 </label>
                    <div class="col-sm-9">
                        <select id="msuAccountName" name="msuAccountName" ng-model="incident.msuAccountName" ng-options="m.name as m.name for m in selectedModel.accountModule" class="form-control">
                            <option>Shanghai VW</option>
                            <option>Shanghai GM</option>
                            <option>China Union Pay</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6">

                    <label class="col-sm-3 control-label no-padding-right" for="requester"> 请求人 </label>

                    <div class="col-sm-9">
                        <input type="text" id="requester" name="requesterName" ng-model="incident.requesterName" required placeholder="例如：张三" class="form-control" />
                        <span ng-show="newTroubleTicketForm.requesterName.$error.required">必填!</span>
                    </div>

                </div>


            </div>

            <div class="form-group has-info">
                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="phone"> 联系电话 </label>
                    <div class="col-sm-9">
                        <input type="text" id="phone" name="requestPhone" ng-model="incident.requesterPhone" placeholder="例如：1398888888" class="form-control" />
                    </div>
                </div>
                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="email"> 邮箱 </label>

                    <div class="col-sm-9">
                        <input type="text" id="email" name="requestEmail" ng-model="incident.requesterEmail" required type="email" placeholder="例如：stone@gmail.com" class="form-control" />
                        <span ng-show="newTroubleTicketForm.requestEmail.$error.required">必填</span>
                        <span ng-show="newTroubleTicketForm.requestEmail.$error.email">地址不对</span>
                    </div>
                </div>

            </div>

            <div class="form-group has-info">
                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="area"> 所处地区 </label>
                    <div class="col-sm-9">
                        <select id="area" name="requesterLocation" ng-model="incident.requesterLocation" ng-options="m.name as m.name for m in selectedModel.areaModule" class="form-control">
                            <option value=""> 请选择 </option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6">

                    <label class="col-sm-3 control-label no-padding-right" for="requestType"> 请求类型 </label>

                    <div class="col-sm-9">
                        <select id="requestType" ng-model="incident.requestType" ng-options="m.name as m.name for m in selectedModel.requestTypeModule" class="form-control">

                        </select>
                    </div>

                </div>
            </div>

            <div class="hr hr-24"></div>

            <div class="form-group has-info">

                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="serviceCatalog"> 服务目录 </label>

                    <div class="col-sm-9">
                        <select id="serviceCatalog" ng-model="incident.serviceCatalog" ng-options="m.name as m.name for m in selectedModel.serviceCatalogModule" class="form-control">
                            <option value=""> 请选择 </option>
                        </select>
                    </div>
                </div>

                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="impact"> 影响程度 </label>

                    <div class="col-sm-9">
                        <select id="impact" ng-model="incident.impact" ng-options="m.name as m.name for m in selectedModel.impactModule" class="form-control">
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-group has-info">

                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="priority"> 优先级 </label>

                    <div class="col-sm-9">
                        <select id="priority" ng-model="incident.priority" ng-options="m.name as m.name for m in selectedModel.priorityModule" class="form-control">

                        </select>
                    </div>
                </div>

                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="urgency"> 紧急程度 </label>

                    <div class="col-sm-9">
                        <select id="urgency" ng-model="incident.urgency" ng-options="m.name as m.name for m in selectedModel.urgencyModule" class="form-control">

                        </select>
                    </div>
                </div>
            </div>


            <div class="form-group has-info">
                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="category"> 配置分类 </label>

                    <div class="col-sm-9">
                        <select id="category" ng-model="incident.category" ng-options="m.name as m.name for m in selectedModel.categoryModule" class="form-control">
                            <option value=""> 请选择 </option>
                        </select>
                    </div>
                </div>

                <div class="col-sm-6">
                    <label class="col-sm-3 control-label no-padding-right" for="ci"> 配置项 </label>

                    <div class="col-sm-9">
                        <select id="ci" ng-model="incident.ci" ng-options="m.name as m.name for m in selectedModel.ciModule" class="form-control">
                            <option value=""> 请选择 </option>
                        </select>
                    </div>
                </div>


            </div>

            <div class="hr hr-24"></div>

            <div class="form-group row has-info">

                <div class="col-sm-offset-1 col-sm-11">
                    <label for="requestDescription">问题描述</label>

                    <textarea class="form-control" rows="5" id="requestDescription" name="requestDescription" ng-model="incident.requestDescription" placeholder="问题描述"
                              required>
                    </textarea>
                    <span ng-show="newTroubleTicketForm.requestDescription.$error.required">必填</span>
                </div>

            </div>

            <div ng-show="buttonLabel === '解决'">
                <label class="block">
                    <input type="checkbox" class="ace" id="resolved" name="resolved" ng-model="incident.resolved"/>
                            <span class="lbl">
                                是否解决
                            </span>
                </label>
            </div>

            <div ng-hide="buttonLabel==='新建'">
                <div class="form-group">
                    <div class="col-sm-offset-1 col-sm-11">
                        <label for="solution">解决方案</label>
                        <textarea class="form-control" rows="5" id="solution" name="solution" ng-model="incident.solution" placeholder="解决方案">
                        </textarea>
                        <span ng-show="newTroubleTicketForm.solution.$error.required">必填</span>
                    </div>
                </div>
            </div>

            <div class="hr hr-24"></div>

            <div class="clearfix form-actions">
                <div class="col-md-offset-1 col-md-11">
                    <button class="btn btn-info" type="submit" ng-click="process(incident)" ng-disabled="newTroubleTicketForm.$invalid">
                        <i class="icon-ok bigger-110"></i>
                        {{buttonLabel}}
                    </button>
                </div>
            </div>

        </ng-form>

    </div><!-- /.col -->
</div><!-- /.row -->

</div><!-- /.page-content -->